{
  "apps": [
    {
      "name": "advancia-backend",
      "script": "dist/src/index.js",
      "instances": 1,
      "autorestart": true,
      "watch": false,
      "max_memory_restart": "1G",
      "env": {
        "NODE_ENV": "production"
      },
      "error_file": "logs/pm2-error.log",
      "out_file": "logs/pm2-out.log",
      "log_file": "logs/pm2-combined.log"
    },
    {
      "name": "health-monitor",
      "script": "monitoring/health-check.js",
      "instances": 1,
      "autorestart": true,
      "watch": false,
      "env": {
        "NODE_ENV": "production",
        "HEALTH_CHECK_URL": "http://localhost:5000/health",
        "HEALTH_CHECK_INTERVAL": "30000",
        "HEALTH_CHECK_TIMEOUT": "5000",
        "HEALTH_CHECK_MAX_FAILURES": "3"
      }
    },
    {
      "name": "log-monitor",
      "script": "monitoring/log-monitor.js",
      "instances": 1,
      "autorestart": true,
      "watch": false,
      "env": {
        "NODE_ENV": "production",
        "LOG_FILE": "logs/app.log",
        "LOG_CHECK_INTERVAL": "10000"
      }
    }
  ]
}
